<!doctype html>
<html lang = "en">
    <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Account Creation â€” Lobster Notes</title>
    <link rel="stylesheet" href="styles.css" />
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
<script type="text/babel">
      function AccountCreationForm() {
        const [formData, setFormData] = React.useState({
          name: "",
          courses: "",
          isProfessor: false,
        });

        const handleChange = (e) => {
          const { name, value, type, checked } = e.target;
          setFormData((prev) => ({
            ...prev,
            [name]: type === "checkbox" ? checked : value,
          }));
        };

        const handleSubmit = (e) => {
          e.preventDefault();
          // TODO: call backend API to insert into the MySQL User table
          console.log("Submitting:", formData);
          alert("Account created for: " + formData.name + " (" + (formData.isProfessor ? "Professor" : "Student") + ")");
        };

        return (
            <div>
                <div className="topbar">
                    <span className="brand">Lobster Notes</span>
                </div>
                <div className="main" style={{ justifyContent: "center" }}>
                    <div className="left" style={{ maxWidth: "480px" }}>
                        <div className="note-editor">
                            <h1 style={{ marginTop: 0 }}>Create Your Account</h1>
                            <form onSubmit={handleSubmit} className="account-form">
                                {/*Account info fields*/}
                                <label>
                                    Username:
                                    <input
                                        type="text"
                                        name="name"
                                        value={formData.name}
                                        onChange={handleChange}
                                        required
                                        maxLength="20"
                                        className="note-title"
                                    />
                                </label>

                                <label>
                                    Password:
                                    <input
                                        type="text"
                                        name="password"
                                        value={formData.password}
                                        onChange={handleChange}
                                        required
                                        maxLength="50"
                                        className="note-title"
                                    />
                                </label>

                                <label>
                                    Courses:
                                    <input
                                        type="text"
                                        name="courses"
                                        value={formData.courses}
                                        onChange={handleChange}
                                        maxLength="50"
                                        className="note-title"
                                    />
                                </label>

                            {/*Role selection*/}
                            <div className="role-select" style={{ marginTop: "12px" }}>
                                <p>Select your role:</p>
                                    <input type="radio" name="role" id="role1" value="Student" onClick={() => setFormData(prev => ({ ...prev, isProfessor: false }))}/>
                                        <label for="role1">Student</label>
                                    <input type="radio" name="role" id="role2" value="Professor" onClick={() => setFormData(prev => ({ ...prev, isProfessor: true }))}/>
                                        <label for="role2">Professor</label>
                            </div>
                            <div style={{ height: '20px' }}></div> {/* Creates a 20px vertical space */}

                            <button type="submit" className="btn btn-primary">
                                Create Account
                            </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

        );
    }
    ReactDOM.createRoot(document.getElementById("root")).render(<AccountCreationForm />);
    </script>
    </body>
</html>


